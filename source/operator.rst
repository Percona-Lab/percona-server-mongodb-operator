Custom Resource options
=======================

The operator is configured via the spec section of the
`deploy/cr.yaml <https://github.com/percona/percona-server-mongodb-operator/blob/master/deploy/cr.yaml>`__
file. This file contains the following spec sections:

.. list-table::
   :widths: 15 15 10 60
   :header-rows: 1

   * - Key
     - Value type
     - Default
     - Description

   * - platform
     - string
     - kubernetes
     - Override/set the Kubernetes platform: *kubernetes* or *openshift*. Set openshift on OpenShift 3.11+

   * - version
     - string
     - ``3.6.8``
     - The Dockerhub tag of `percona/percona-server-mongodb <https://hub.docker.com/r/perconalab/percona-server-mongodb-operator/tags/>`_ to deploy

   * - ClusterServiceDNSSuffix
     - string
     - ``svc.cluster.local``
     - The (non-standard) cluster domain to be used as a suffix of the Service
       name.

   * - secrets
     - subdoc
     -
     - Operator secrets section

   * - replsets
     - array
     -
     - Operator MongoDB Replica Set section

   * - pmm
     - subdoc
     - 
     - Percona Monitoring and Management section

   * - mongod
     - subdoc
     - 
     - Operator MongoDB Mongod configuration section

   * - backup
     - subdoc
     - 
     - Percona Server for MongoDB backups section

Secrets section
---------------

Each spec in its turn may contain some key-value pairs. The secrets one
has only two of them:

.. list-table::
   :widths: 10 10 30 50
   :header-rows: 1

   * - Key
     - Value Type
     - Example
     - Description

   * - key
     - string
     - ``my-cluster-name-mongodb-key``
     - The secret name for the `MongoDB Internal Auth Key <https://docs.mongodb.com/manual/core/security-internal-authentication/>`_. This secret is auto-created by the operator if it doesnâ€™t exist.

   * - users
     - string
     - ``my-cluster-name-mongodb-users``
     - The secret name for the MongoDB users required to run the operator. **This secret is required to run the operator.**

Replsets section
----------------

The replsets section controls the MongoDB Replica Set.

.. tabularcolumns:: |p{2cm}|p{13.6cm}|

+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | name											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``rs 0``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The name of the `MongoDB Replica Set <https://docs.mongodb.com/manual/replication/>`_ 	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | size											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | 3												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The size of the MongoDB Replica Set, must be >= 3 for `High-Availability			|
|                 | <https://docs.mongodb.com/manual/replication/#redundancy-and-data-availability>`_		|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | affinity.antiAffinityTopologyKey								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``kubernetes.io/hostname``									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes topologyKey 								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/				|
|                 | #inter-pod-affinity-and-anti-affinity-beta-feature>`_ node affinity constraint for the	|
|                 |  Replica Set nodes										|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | affinity.advanced										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | subdoc											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     |												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | In cases where the pods require complex tuning the `advanced` option turns off the		|
|                 | `topologykey` effect. This setting allows the standard Kubernetes affinity constraints of	|												|
|                 | any complexity to be used									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tolerations.key										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``node.alpha.kubernetes.io/unreachable``							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ key	|
|                 | for the Replica Set nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tolerations.operator									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``Exists``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ 	|													|
|                 | operator  for the Replica Set nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tolerations.effect										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``NoExecute``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations 								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ effect	|
|                 | for the Replica Set nodes									|												
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tolerations.tolerationSeconds								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int	 											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``6000``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations 								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ time	|
|                 | limit  for the Replica Set nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | priorityClassName										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``high priority``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kuberentes Pod priority class								|
|                 | <https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/			|
|                 | #priorityclass>`_  for the Replica Set nodes						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | annotations.iam.amazonaws.com/role								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``role-arn``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `AWS IAM role 										|
|                 | <https://kubernetes-on-aws.readthedocs.io/en/latest/user-guide/iam-roles.html>`_  for the	|
|                 | Replica Set nodes										|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | labels											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | label											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``rack: rack-22``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes affinity labels								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/>`_			|
|                 | for the Replica Set nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | nodeSelector										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | label											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``disktype: ssd``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes nodeSelector								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector>`_		|
|                 | affinity constraint  for the Replica Set nodes						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | podDisruptionBudget.maxUnavailable								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``1``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod distribution budget							|
|                 | <https://kubernetes.io/docs/concepts/workloads/pods/disruptions/>`_				|
|                 | limit specifying the maximum value for unavailable Pods					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | podDisruptionBudget.minAvailable								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``1``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod distribution budget							|
|                 | <https://kubernetes.io/docs/concepts/workloads/pods/disruptions/>`_				|
|                 | limit specifying the minimum value for available Pods					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | expose.enabled										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``false``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enable or disable exposing `MongoDB Replica Set						|
|                 | <https://docs.mongodb.com/manual/replication/>`_ nodes with dedicated IP addresses		|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | expose.exposeType										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``ClusterIP``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `IP address type <https://kubernetes.io/docs/concepts/services-networking/service/	|
|                 | #publishing-services-service-types>`_ to be exposed						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.enabled										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``false``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enable or disable creation of `Replica Set Arbiter						|
|                 | <https://docs.mongodb.com/manual/core/replica-set-arbiter/>`_ nodes within the cluster	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.size										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``1``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The number of `Replica Set Arbiter								|
|                 | <https://docs.mongodb.com/manual/core/replica-set-arbiter/>`_  nodes			|
|                 | within the cluster										|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.afinity.antiAffinityTopologyKey							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``kubernetes.io/hostname``									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes topologyKey									|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/				|
|                 | #inter-pod-affinity-and-anti-affinity-beta-feature>`_					|
|                 | node affinity constraint for the Arbiter							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.affinity.advanced									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | subdoc											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     |												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | In cases where the pods require complex tuning the `advanced` option turns off		|
|                 | the `topologykey` effect. This setting allows the standard Kubernetes affinity constraints	|
|                 | of any complexity to be used								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.tolerations.key									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``node.alpha.kubernetes.io/unreachable``							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_	|
|                 | key for the Arbiter nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.tolerations.operator								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``Exists``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_	|
|                 | operator for the Arbiter nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.tolerations.effect									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``NoExecute``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_	|
|                 | effect for the Arbiter nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.tolerations.tolerationSeconds							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``6000``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_	|
|                 | time limit for the Arbiter nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.priorityClassName									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``high priority``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kuberentes Pod priority class								|
|                 | <https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/			|
|                 | #priorityclass>`_ for the Arbiter nodes							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.annotations.iam.amazonaws.com/role							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``role-arn``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `AWS IAM role										|
|                 | <https://kubernetes-on-aws.readthedocs.io/en/latest/user-guide/iam-roles.html>`_		|
|                 | for the Arbiter nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.labels										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | label											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``rack: rack-22``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes affinity labels								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/>`_			|
|                 | for the Arbiter nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | arbiter.nodeSelector									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | label											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``disktype: ssd``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes nodeSelector								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/				|
|                 | #nodeselector>`_ affinity constraint for the Arbiter nodes					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | resources.limits.cpu									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``300m``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | `Kubernetes CPU limit									|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for MongoDB container			|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | resources.limits.memory									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0.5G``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | `Kubernetes Memory limit 									|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`__ for MongoDB container		|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | resources.requests.cpu									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     |												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes CPU requests								|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for MongoDB container			|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | resources.requests.memory									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     |												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Memory requests								|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for MongoDB container			|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | volumeSpec.emptyDir										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``{}``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes emptyDir volume <https://kubernetes.io/docs/concepts/storage/volumes/	|
|                 | #emptydir>`_, i.e. the directory which will be created on a node, and will be accessible to	|
|                 | the MongoDB Pod containers									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | volumeSpec.hostPath.path									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``/data``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | `Kubernetes hostPath volume <https://kubernetes.io/docs/concepts/storage/volumes/		|
|                 | #hostpath>`_, i.e. the file or directory of a node that will be accessible to the MongoDB	|
|                 | Pod containers										|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | volumeSpec.hostPath.type									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``Directory``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes hostPath volume type							|
|                 | <https://kubernetes.io/docs/concepts/storage/volumes/#hostpath>`_				|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | volumeSpec.persistentVolumeClaim.storageClassName						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``standard``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Storage Class								|
|                 | <https://kubernetes.io/docs/concepts/storage/storage-classes/>`_				|
|                 | to use with the MongoDB container `Persistent Volume Claim 					|
|                 | <https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims>`_	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | volumeSpec.persistentVolumeClaim.accessModes						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | array											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``[ "ReadWriteOnce" ]``									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Persistent Volume								|
|                 | <https://kubernetes.io/docs/concepts/storage/persistent-volumes/>`_				|
|                 | access modes for the MongoDB container							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | volumeSpec.persistentVolumeClaim.resources.requests.storage					|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``3Gi``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Persistent Volume								|
|                 | <https://kubernetes.io/docs/concepts/storage/persistent-volumes/>`_				|
|                 | size for the MongoDB container								|
+-----------------+---------------------------------------------------------------------------------------------+

PMM Section
-----------

The ``pmm`` section in the deploy/cr.yaml file contains configuration
options for Percona Monitoring and Management.

.. tabularcolumns:: |p{2cm}|p{13.6cm}|

+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | enabled											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``false``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables or disables monitoring Percona Server for MongoDB with `PMM 			|
|                 | <https://www.percona.com/doc/percona-monitoring-and-management/				|
|                 | index.metrics-monitor.dashboard.html>`_							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | image											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``perconalab/pmm-client:1.17.1``								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | PMM Client docker image to use								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | serverHost											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``monitoring-service``									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Address of the PMM Server to collect data from the Cluster					|
+-----------------+---------------------------------------------------------------------------------------------+

Mongod Section
--------------

The largest section in the deploy/cr.yaml file contains the Mongod
configuration options.

.. tabularcolumns:: |p{2cm}|p{13.6cm}|

+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | net.port											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``27017``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the MongoDB `net.port option					 			|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/#net.port>`_		|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | net.hostPort										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the Kubernetes `hostPort option							|
|                 | <https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/ |
|                 | #support-hostport>`_									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | security.redactClientLogData								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | bool											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``false``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables/disables `PSMDB Log Redaction							|
|                 |  <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/log-redaction.html>`_	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | security.enableEncryption									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | bool											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables/disables `PSMDB data at rest encryption						|
|                 | <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/				|
|                 | data_at_rest_encryption.html>`_								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | security.encryptionKeySecret								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``my-cluster-name-mongodb-encryption-key``							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Specifies a secret object with the `encryption key 						|
|                 | <https://docs.mongodb.com/manual/tutorial/configure-encryption/#local-key-management>`_	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | security.encryptionCipherMode								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``AES256-CBC``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets											|
|                 | `PSMDB encryption cipher mode <https://docs.mongodb.com/manual/reference/program/mongod/	|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/				|
|                 | #cmdoption-mongod-encryptionciphermode>`_							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | setParameter.ttlMonitorSleepSecs								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``60``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the PSMDB `ttlMonitorSleepSecs` option							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | setParameter.wiredTigerConcurrentReadTransactions						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``128``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `wiredTigerConcurrentReadTransactions option					|
|                 | <https://docs.mongodb.com/manual/reference/parameters/					|
|                 | #param.wiredTigerConcurrentReadTransactions>`_						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | setParameter.wiredTigerConcurrentWriteTransactions						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``128``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `wiredTigerConcurrentWriteTransactions option					|
|                 | <https://docs.mongodb.com/manual/reference/parameters/					|
|                 | #param.wiredTigerConcurrentWriteTransactions>`_						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.engine										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``wiredTiger``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.engine option								|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/#storage.engine>`_		|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.inMemory.engineConfig.inMemorySizeRatio						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | float											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0.9``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The ratio used to compute the `storage.engine.inMemory.inMemorySizeGb option		|
|                 |  <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/inmemory.html		|
|                 | #--inMemorySizeGB>`_									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.mmapv1.nsSize									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``16``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.mmapv1.nsSize option							|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/#storage.mmapv1.nsSize>`_	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.mmapv1.smallfiles									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | bool											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``false``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.mmapv1.smallfiles option							|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #storage.mmapv1.smallFiles>`_								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.wiredTiger.engineConfig.cacheSizeRatio						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | float											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0.5``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The ratio used to compute the `storage.wiredTiger.engineConfig.cacheSizeGB option		|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #storage.wiredTiger.engineConfig.cacheSizeGB>`_						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.wiredTiger.engineConfig.directoryForIndexes						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | bool											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``false``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.wiredTiger.engineConfig.directoryForIndexes option			|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #storage.wiredTiger.engineConfig.directoryForIndexes>`_                                     |
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.wiredTiger.engineConfig.journalCompressor						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``snappy``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.wiredTiger.engineConfig.journalCompressor option				|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #storage.wiredTiger.engineConfig.journalCompressor>`_					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.wiredTiger.collectionConfig.blockCompressor						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``snappy``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.wiredTiger.collectionConfig.blockCompressor option			|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #storage.wiredTiger.collectionConfig.blockCompressor>`_					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | storage.wiredTiger.indexConfig.prefixCompression						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | bool											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `storage.wiredTiger.indexConfig.prefixCompression option				|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #storage.wiredTiger.indexConfig.prefixCompression>`_					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | operationProfiling.mode									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``slowOp``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `operationProfiling.mode option 							|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #operationProfiling.mode>`_									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | operationProfiling.slowOpThresholdMs							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``100``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `operationProfiling.slowOpThresholdMs						|
|                 | <https://docs.mongodb.com/manual/reference/configuration-options/				|
|                 | #operationProfiling.slowOpThresholdMs>`_ option						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | operationProfiling.rateLimit								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``1``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `operationProfiling.rateLimit option						|
|                 | <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/rate-limit.html>`_		|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | auditLog.destination									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     |												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `auditLog.destination option							|
|                 | <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/audit-logging.html>`_	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | auditLog.format										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``BSON``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `auditLog.format option								|
|                 | <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/audit-logging.html>`_	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | auditLog.filter										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``{}``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `auditLog.filter option								|
|                 | <https://www.percona.com/doc/percona-server-for-mongodb/LATEST/audit-logging.html>`_	|
+-----------------+---------------------------------------------------------------------------------------------+

backup section
--------------

The ``backup`` section in the
`deploy/cr.yaml <https://github.com/percona/percona-server-mongodb-operator/blob/master/deploy/cr.yaml>`__
file contains the following configuration options for the regular
Percona Server for MongoDB backups.

.. tabularcolumns:: |p{2cm}|p{13.6cm}|

+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | enabled											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables or disables making backups					 			|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | debug											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables or disables debug mode for bakups							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | restartOnFailure										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables or disables restarting the previously failed backup process				|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | image											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``percona/percona-server-mongodb-operator:{{{release}}}-backup``				|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The Percona Server for MongoDB Docker image to use for the backup				|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | serviceAccountName										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``percona-server-mongodb-operator``								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Nname of the separate privileged service account used by the Operator			|
+-----------------+---------------------------------------------------------------------------------------------+  
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.enableClientsLogging								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables or disables backups-related client logging			 			|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.resources.limits.cpu								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``100m``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | `Kubernetes CPU limit									|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for the MongoDB Coordinator container	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.resources.limits.memory								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0.2G``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | `Kubernetes Memory limit									|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for the MongoDB Coordinator container	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.resources.requests.cpu								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``100m``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes CPU requests 								|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for the MongoDB Coordinator container	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.resources.requests.memory							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0.1G``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Memory requests								|
|                 | <https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/	|
|                 | #resource-requests-and-limits-of-pod-and-container>`_ for the MongoDB Coordinator container	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.resources.requests.storage							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``1Gi``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Persistent Volume								|
|                 | <https://kubernetes.io/docs/concepts/storage/persistent-volumes/>`_ 			|
|                 | size for the MongoDB Coordinator container							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.storageClass									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``aws-gp2``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Sets the `Kubernetes Storage Class								|
|                 | <https://kubernetes.io/docs/concepts/storage/storage-classes/>`_				|
|                 | to use with the MongoDB Coordinator container						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.afinity.antiAffinityTopologyKey							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``kubernetes.io/hostname``									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes topologyKey									|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/				|
|                 | #inter-pod-affinity-and-anti-affinity-beta-feature>`_ node affinity constraint for the 	|
|                 | backups											|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.affinity.advanced								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | sudbdoc											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | In cases where the pods require complex tuning the `advanced` option turns off the		|
|                 | `topologykey` effect. This setting allows the standard Kubernetes affinity constraints 	|
|                 | of any complexity to be used								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.tolerations.key									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``node.alpha.kubernetes.io/unreachable``							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ 	|
|                 | key for the backups nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.tolerations.operator								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``Exists``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ 	|
|                 | operator for the backups nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.tolerations.effect								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``NoExecute``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes Pod tolerations 								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_ 	|
|                 | effect for the backups nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.tolerations.tolerationSeconds							|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``6000``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** |  The `Kubernetes Pod tolerations								|
|                 | <https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/#concepts>`_	|
|                 | time limit for the backups nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.priorityClassName								|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``high priority``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kuberentes Pod priority class								|
|                 | <https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#priorityclass>`_|
|                 | for the backups nodes									|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.annotations.iam.amazonaws.com/role						|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``role-arn``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `AWS IAM role										|
|                 | <https://kubernetes-on-aws.readthedocs.io/en/latest/user-guide/iam-roles.html>`_		|
|                 | for the backup storage nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.labels										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | label											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``rack: rack-22``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes affinity labels								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/>`_ 			|
|                 | for the backup storage nodes								|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | coordinator.nodeSelector									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | label											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``disktype: ssd``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The `Kubernetes nodeSelector								|
|                 | <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector>`_		|
|                 | affinity constraint for the backup storage nodes						|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tasks.name											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``sat-night-backup``									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The backup name										|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tasks.enabled										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | boolean											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``true``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | Enables or disables this exact backup							|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tasks.schedule										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | int												|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``0 0 * * 6``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The scheduled time to make a backup, specified in the 					|
|                 | `crontab format <https://en.wikipedia.org/wiki/Cron>`_					|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tasks.storageName										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``st-us-west``										|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The name of the S3-compatible storage for backups, configured in the `storages` subsection	|
+-----------------+---------------------------------------------------------------------------------------------+
|														|
+-----------------+---------------------------------------------------------------------------------------------+
| **Key**         | tasks.compressionType									|
+-----------------+---------------------------------------------------------------------------------------------+
| **Value Type**  | string											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Example**     | ``gzip``											|
+-----------------+---------------------------------------------------------------------------------------------+
| **Description** | The backup compression format								|
+-----------------+---------------------------------------------------------------------------------------------+
